{"version":3,"sources":["Conponents/Header/Header.module.css","reportWebVitals.js","Redux/redux-store.js","Hoc/withSuspense.jsx","Conponents/Header/logo.png","Conponents/Header/Header.jsx","Conponents/Header/HeaderContainer.jsx","Conponents/Nav/Nav.jsx","Conponents/News/News.jsx","App.js","index.js","Redux/auth-Reduser.js","Conponents/Nav/Nav.module.css","Redux/profile-reduser.js","Conponents/PreLoader/PreLoader.jsx","Redux/dialogs-reduser.js","Dal/Api.js","Redux/users-Reduser.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","redusers","combineReducers","profilePage","profileReduser","dialogsPage","dialogsReduser","humansPage","usersReduser","auth","authReduser","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Component","props","fallback","PreLoader","Header","className","s","header","src","logo","alt","id","ava","photo","text","login","button","onClick","logout","log","to","HeaderAPI","this","getMyProfileTC","data","logoutTC","React","obj","HeaderContainer","connect","state","myPhotos","small","Nav","nav","activeClassName","active","myId","News","Settings","lazy","HumansContainer","ProfileContainer","Login","Dialogs","App","a","document","title","getAuthMeTC","path","render","DispatchToProps","ReactDOM","StrictMode","getElementById","startData","email","captcha","setAuthData","type","info","dispatch","getAuthMe","resultCode","loginTC","password","rememberMe","getCaptchaUrl","url","stopSubmit","messages","alert","action","profileInfo","photos","large","userId","aboutMe","lookingForAJob","lookingForAJobDescription","fullName","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","status","setProfile","setStatus","getProfileTC","getProfile","getStatus","undefined","updateStatusTC","updateStatus","setPhotoTC","file","setPhoto","dataPhoto","setProfileInfoTC","ProfileInfo","setPrifileInfo","newPost","name","message","postText","likeCount","posts","filter","p","postId","dialogs","setDialogs","setMessages","getDialogsTC","getDialogs","startDialogTC","startDialog","sendMessageTC","sendMessage","getMessages","reset","getMessagesTC","deleteMessageTC","messageId","deleteMessage","items","MyAxios","axios","baseURL","withCredentials","headers","getUsers","pageSize","newPageTotal","get","response","getUsersSerch","put","unfollowUser","delete","followUser","post","body","formData","FormData","append","users","pageCount","pageTotal","isLoaded","isDisable","disableId","massUsers","page","backPage","nextPage","serchName","serchNameProfile","setUsers","disableIdUpdate","boolean","getUsersTC","set","startPage","i","push","length","reverse","splice","serchNameUserTC","serch","setTimeout","unfollowTC","unfollow","followTC","follow","map","u","followed"],"mappings":"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","file":"static/js/main.39e9789f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1XjID\",\"ava\":\"Header_ava__34e2R\",\"text\":\"Header_text__2rDaz\",\"login\":\"Header_login__1B1ug\",\"button\":\"Header_button__-qblk\",\"log\":\"Header_log__mK_IX\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport authReduser from \"./auth-Reduser\";\r\nimport dialogsReduser from './dialogs-reduser';\r\nimport profileReduser from './profile-reduser';\r\nimport usersReduser from \"./users-Reduser\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n \r\nlet redusers = combineReducers({\r\n    profilePage:profileReduser,\r\n    dialogsPage:dialogsReduser,\r\n    humansPage:usersReduser,\r\n    auth:authReduser,\r\n    form:formReducer,\r\n    \r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(redusers,composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.store=store;\r\nexport default store;","import React from \"react\";\r\nimport { Suspense } from \"react\";\r\nimport PreLoader from \"../Conponents/PreLoader/PreLoader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<PreLoader />}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/logo.793fc9e6.png\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\nimport logo from './logo.png'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header + ' flex fSpaceBetween'}>\r\n      <div >\r\n        <img src={logo} alt=\"\" />\r\n      </div>\r\n      <div >\r\n        {props.id\r\n          ? <div className=\"flex\">\r\n            <img className={s.ava} src={props.photo} alt=\"\" />\r\n            <div className={s.text}>\r\n              <p className={s.login}>{props.login}</p>\r\n              <button className={s.button} onClick={props.logout}>LogOut</button>\r\n            </div>\r\n            \r\n          </div> \r\n          : <h1 className={s.log}><NavLink  to='/login'>Login</NavLink></h1>}\r\n\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logoutTC } from '../../Redux/auth-Reduser';\r\nimport { getMyProfileTC } from '../../Redux/profile-reduser';\r\n\r\nclass HeaderAPI extends React.Component {\r\n  componentDidMount(){\r\n    this.props.getMyProfileTC(this.props.data.id);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Header {...this.props.data} photo={this.props.photo} logout={this.props.logoutTC}  />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps=(state)=>{\r\n  return{\r\n    data:state.auth,\r\n    photo:state.profilePage.myPhotos.small\r\n  }\r\n}\r\n\r\nlet obj = {\r\n  logoutTC,\r\n  getMyProfileTC\r\n}\r\nconst HeaderContainer = connect(mapStateToProps,obj)(HeaderAPI)\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Nav.module.css';\r\n\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n      <nav className={s.nav}>\r\n        <div>\r\n          <NavLink activeClassName={s.active} to={/Profile/+props.myId}>My profile</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink activeClassName={s.active} to=\"/Dialogs\">Dialogs</NavLink>\r\n        </div>\r\n        <div>\r\n        </div>\r\n        <div>\r\n          <NavLink activeClassName={s.active} to=\"/Humans\">Humans</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink activeClassName={s.active} to=\"/login\">Login</NavLink>\r\n        </div>\r\n        \r\n      </nav>\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\n\r\nconst News = () => {\r\n    return (\r\n     <h1>__News__</h1>\r\n    );\r\n}\r\n\r\nexport default News;","//library\nimport React from 'react'\nimport { HashRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport {getAuthMeTC} from './Redux/auth-Reduser'\nimport { withSuspense } from './Hoc/withSuspense';\n//Component\nimport HeaderContainer from './Conponents/Header/HeaderContainer.jsx';\nimport Nav from './Conponents/Nav/Nav.jsx';\nimport News from './Conponents/News/News.jsx'\nimport PreLoader from './Conponents/PreLoader/PreLoader';\nconst Settings = React.lazy(() => import('./Conponents/Settings/Settings.jsx'));\nconst HumansContainer = React.lazy(() => import('./Conponents/Humans/HumansContainer'));\nconst ProfileContainer = React.lazy(() => import('./Conponents/Profile/ProfileContainer'));\nconst Login = React.lazy(() => import('./Conponents/Login/Login.jsx'));\nconst Dialogs = React.lazy(() => import('./Conponents/Dialogs/Dialogs.jsx'));\n\n\n\n\nclass App extends React.Component {\n  async componentDidMount()  {\n    document.title = \"Marmel social network\"\n    await this.props.getAuthMeTC();\n  }\n  \n  render() {\n    if(this.props.login===null) {\n      return <PreLoader/>\n    }\n    return (\n      <HashRouter>\n\n        <div className=\"app-wraper\">\n          <HeaderContainer />\n          <Nav myId={this.props.myId}/>\n          <div className=\"content\">\n\n            <Route path='/Profile/:userId?' render={withSuspense(ProfileContainer)} />\n\n            <Route path='/Dialogs/:userId?' render={withSuspense(Dialogs)} />\n\n            <Route path='/News' render={() => <News />} />\n            <Route path='/Humans' render={withSuspense(HumansContainer)} />\n            <Route path='/Settings' render={withSuspense(Settings)} />\n            <Route path='/login' render={withSuspense(Login)} />\n\n          </div>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\n\nconst mapstateToProps = (state)=>{\n  \n  return{\n    login:state.auth.login,\n    myId:state.auth.id\n  }\n}\nconst DispatchToProps ={\n  getAuthMeTC,\n  \n}\n\nexport default connect(mapstateToProps,DispatchToProps)(App);\n","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport store from './Redux/redux-store';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\n\n\n\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n\n\n\n\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\nreportWebVitals();\n","import { stopSubmit } from 'redux-form';\r\nimport {getAuthMe, getCaptchaUrl, login, logout} from '../Dal/Api'\r\n\r\nlet startData = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    captcha: null,\r\n    myId:null\r\n}\r\n\r\nconst authReduser = (state = startData, action) => {\r\n    switch (action.type) {\r\n        case 'setAuthData':{\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        case 'setCaptchaUrl':\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const setAuthData = (id,login,email) => ({ type: 'setAuthData', data:{id,login,email} });\r\nexport const setCaptchaUrl = (url) => ({ type: 'setCaptchaUrl', data: {captcha:url} });\r\n\r\nexport const getAuthMeTC = (info) => {\r\n    return (dispatch) =>{\r\n        getAuthMe().then(data => {\r\n            \r\n            data.resultCode === 0 \r\n            ? dispatch(setAuthData(data.data.id,data.data.login,data.data.email))\r\n            : dispatch(setAuthData(info,info,info))\r\n          })\r\n    }\r\n};\r\nexport const loginTC = (email,password,rememberMe,captcha) => {\r\n    return (dispatch) =>{\r\n        login(email,password,rememberMe,captcha).then(data => {\r\n            data.resultCode === 0 \r\n            ? dispatch(getAuthMeTC())\r\n            : data.resultCode === 10 &&  getCaptchaUrl().then(data=>{\r\n                dispatch(setCaptchaUrl(data.url));\r\n            });\r\n            dispatch(stopSubmit('login',{'_error':data.messages}));\r\n          })\r\n    }\r\n};\r\nexport const logoutTC = () => {\r\n    return (dispatch) =>{\r\n        logout().then(data => {\r\n            data.resultCode === 0 ? dispatch(getAuthMeTC(false)) : alert(data.messages);\r\n          })\r\n    }\r\n};\r\n\r\nexport default authReduser;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2utiy\",\"active\":\"Nav_active__3S1xY\"};","import { getProfile, getStatus,setPhoto,setPrifileInfo,updateStatus } from \"../Dal/Api\";\r\n\r\n\r\nlet startData = {\r\n    profileInfo: {\r\n        photos: {\r\n            small: null,\r\n            large: null\r\n        },\r\n        userId: null,\r\n        aboutMe:null,\r\n        lookingForAJob: null,\r\n        lookingForAJobDescription: null,\r\n        fullName: null,\r\n        contacts: {\r\n            github: null,\r\n            vk: null,\r\n            facebook: null,\r\n            instagram: null,\r\n            twitter: null,\r\n            website: null,\r\n            youtube: null,\r\n            mainLink: null,\r\n        },\r\n        \r\n    },\r\n    myPhotos: {\r\n        small: null,\r\n        large: null\r\n    },\r\n    status:'bag',\r\n\r\n}\r\n\r\nconst profileReduser = (state = startData, action) => {\r\n    switch (action.type) {\r\n        case 'addPost': {\r\n            let newPost = { name: 'Meredit', message: action.postText, likeCount: '5' };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case 'setProfile': {\r\n            return { ...state, profileInfo: action.profileInfo };\r\n        }\r\n        case 'setMyProfile': {\r\n            return { ...state, myPhotos: action.profileInfo.photos };\r\n        }\r\n        case 'setStatus': {\r\n            return { ...state, status: action.status };\r\n        }\r\n        case 'setPhotoData': {\r\n            let photos = action.dataPhoto.photos;\r\n            let a = { ...state, profileInfo:{...state.profileInfo , photos}};\r\n            debugger;\r\n            return a;\r\n        }\r\n        case 'deletePost':{\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\nexport const addPost = () => ({ type: 'addPost' });\r\nexport const setProfile = (profileInfo) => ({ type: 'setProfile', profileInfo });\r\nexport const setMyProfile = (profileInfo) => ({ type: 'setMyProfile', profileInfo });\r\nexport const setPhotoData = (dataPhoto) => ({ type: 'setPhotoData', dataPhoto });\r\nexport const setStatus = (status) => ({ type: 'setStatus', status });\r\nexport const deletePost = (postId) => ({ type: 'deletePost', postId });\r\n\r\nexport const getProfileTC = (userId) => {\r\n    return  (dispatch) => {\r\n        getProfile(userId).then(data => {\r\n            dispatch(setProfile(data));\r\n        });\r\n        getStatus(userId).then(data => {\r\n            dispatch(setStatus(data));\r\n        });\r\n    }\r\n\r\n}\r\nexport const getMyProfileTC = (userId) => {\r\n    return  (dispatch) => {\r\n        userId != undefined &&\r\n        getProfile(userId).then(data => {\r\n            dispatch(setMyProfile(data));\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport const updateStatusTC = (status) => {\r\n    return (dispatch) => {\r\n        updateStatus(status).then(data => {\r\n            data.resultCode === 0 ? dispatch(setStatus(status)):dispatch(setStatus('Debil'));\r\n        });\r\n    }\r\n}\r\nexport const setPhotoTC = (file) => {\r\n    return async (dispatch) => {\r\n        let data = await setPhoto(file);\r\n        data.resultCode === 0 && dispatch(setPhotoData(data.data));\r\n\r\n    }\r\n}\r\nexport const setProfileInfoTC = (ProfileInfo, userId) => {\r\n    return async (dispatch) => {\r\n        let data = await setPrifileInfo(ProfileInfo);\r\n        data.resultCode === 0 ? getProfile(userId).then(data => {\r\n            dispatch(setProfile(data));\r\n        }):dispatch();\r\n    }\r\n}\r\n\r\nexport default profileReduser;","import React from 'react';\r\n\r\nlet PreLoader = (props) =>{\r\n    return (\r\n        <div>\r\n            PreLoader mather fucker!!\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PreLoader;","import { reset } from \"redux-form\";\r\nimport { deleteMessage, getDialogs, getMessages, sendMessage, startDialog } from \"../Dal/Api\";\r\n\r\nlet startData={\r\n        messages: [\r\n        ],\r\n        dialogs:[]\r\n    \r\n};\r\n\r\n\r\nconst dialogsReduser = (state = startData, action)=>{\r\n    switch (action.type) {\r\n        case 'setDialogs':\r\n            return {\r\n                ...state,\r\n                dialogs:action.data\r\n            }\r\n        case 'setMessages':\r\n            return {\r\n                ...state,\r\n                messages:action.data.items\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage1 = (text) => ({type: 'sendMessage', text});\r\nexport const setDialogs = (data) => ({type: 'setDialogs', data});\r\nexport const setMessages = (data) => ({type: 'setMessages', data});\r\n\r\nexport const getDialogsTC = () => {\r\n    return (dispatch) => {\r\n        getDialogs().then(data => {\r\n            dispatch(setDialogs(data))\r\n        });\r\n    }\r\n}\r\nexport const startDialogTC = (userId) => {\r\n    return (dispatch) => {\r\n        startDialog(userId).then(data => {\r\n            dispatch(setDialogs(data.messages))\r\n        });\r\n    }\r\n}\r\nexport const sendMessageTC = (userId,text) => {\r\n    \r\n    return (dispatch) => {\r\n        sendMessage(userId,text).then(data => {\r\n            startDialog(userId).then(data =>{\r\n                getDialogs().then(data => {\r\n                    dispatch(setDialogs(data))\r\n                });\r\n                getMessages(userId).then(data => {\r\n                    dispatch(setMessages(data));\r\n                });\r\n                dispatch(reset(\"DialogMessageForm\"));\r\n            });\r\n        });\r\n    }\r\n}\r\nexport const getMessagesTC = (userId) => {\r\n    return (dispatch) => {\r\n        userId != undefined &&\r\n        getMessages(userId).then(data => {\r\n            dispatch(setMessages(data));\r\n        });\r\n    }\r\n}\r\nexport const deleteMessageTC = (messageId,userId) => {\r\n    return (dispatch) => {\r\n        deleteMessage(messageId).then(data => {\r\n            getMessages(userId).then(data => {\r\n                dispatch(setMessages(data));\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nexport default dialogsReduser;","import * as axios from \"axios\";\r\n\r\nexport const MyAxios = axios.create({\r\n    baseURL:'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials:true,\r\n    headers:{\"API-KEY\":'07c315dc-c503-4487-834e-08b5a5a30b20'}\r\n})\r\n\r\nexport const getUsers = (pageSize,newPageTotal) =>{\r\n    return MyAxios.get(`users?count=${pageSize}&page=${newPageTotal}`).then(response=>{return response.data})\r\n}\r\nexport const getUsersSerch = (pageSize,newPageTotal) =>{\r\n    return MyAxios.get(`users?count=${pageSize}&page=${newPageTotal}`)\r\n}\r\nexport const getProfile = (userId) =>{\r\n    return MyAxios.get(`profile/${userId}`).then(response=>{return response.data});  \r\n    \r\n}\r\nexport const getStatus = (userId) =>{\r\n    return MyAxios.get(`profile/status/${userId}`).then(response=>{return response.data});\r\n}\r\nexport const getAuthMe = () =>{\r\n    return MyAxios.get('auth/me').then(response=>{return response.data})\r\n}\r\nexport const getCaptchaUrl = () =>{\r\n    return MyAxios.get('security/get-captcha-url').then(response=>{return response.data})\r\n}\r\n\r\nexport const getDialogs = () =>{\r\n    return MyAxios.get(`dialogs`).then(response=>{  return response.data})\r\n}\r\nexport const getMessages = (userId) =>{\r\n    return MyAxios.get(`dialogs/${userId}/messages?count=20`).then(response=>{return response.data})\r\n}\r\n// -------------------------------------------------\r\nexport const updateStatus = (status) =>{\r\n    return MyAxios.put(`profile/status`,{status}).then(response=>{return response.data});\r\n}\r\nexport const setPrifileInfo = (obj) =>{\r\n    return MyAxios.put(`profile`,obj).then(response=>{return response.data});\r\n}\r\nexport const startDialog = (userId) =>{\r\n    return MyAxios.put(`dialogs/${userId}`).then(response=>{  return response.data})\r\n}\r\n// -------------------------------------------------\r\nexport const unfollowUser = (id) =>{\r\n    return MyAxios.delete(`follow/${id}`).then(response=>{return response.data})\r\n}\r\nexport const logout = () =>{\r\n    return MyAxios.delete(`/auth/login`).then(response=>{return response.data})\r\n}\r\nexport const deleteMessage = (messageId) =>{\r\n    return MyAxios.delete(`dialogs/messages/${messageId}`).then(response=>{return response.data})\r\n}\r\n// -------------------------------------------------\r\nexport const followUser = (id) =>{\r\n    return MyAxios.post(`follow/${id}`).then(response=>{return response.data})\r\n}\r\nexport const login = (email,password,rememberMe,captcha) =>{\r\n    return MyAxios.post(`/auth/login`,{email,password,rememberMe,captcha}).then(response=>{return response.data})\r\n}\r\nexport const sendMessage = (userId,message) =>{\r\n    return MyAxios.post(`dialogs/${userId}/messages`,{body:message}).then(response=>{return response.data})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//---------------------------------------------------\r\nexport const setPhoto = (file) =>{\r\n    let formData = new FormData;\r\n    formData.append('image',file)\r\n    return MyAxios.post(`profile/photo`,formData,{\r\n        headers:{\r\n            'Content-type': 'multipart/form-data'\r\n        }\r\n    }).then(response=>{return response.data})\r\n}\r\n\r\n","import { followUser, getUsers, getUsersSerch, unfollowUser } from \"../Dal/Api\";\r\n\r\nlet startData = {\r\n    users: [],\r\n    pageCount: 0,\r\n    pageTotal: 1,\r\n    pageSize: 5,\r\n    isLoaded: false,\r\n    isDisable: false,\r\n    disableId: [],\r\n    massUsers:[],\r\n    page:1,\r\n    backPage:[],\r\n    nextPage:1,\r\n    serchName:\"\",\r\n    serchNameProfile:[],\r\n\r\n}\r\n\r\nconst usersReduser = (state = startData, action) => {\r\n    switch (action.type) {\r\n        case 'follow':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id == action.userId) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case 'unfollow':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id == action.userId) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case 'setUsers':\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case 'setPageCount':\r\n            return {\r\n                ...state,\r\n                pageCount: action.pageCount\r\n            }\r\n        case 'isLoadedTrue':\r\n            return {\r\n                ...state,\r\n                isLoaded: true\r\n            }\r\n        case 'isLoadedFalse':\r\n            return {\r\n                ...state,\r\n                isLoaded: false\r\n            }\r\n        case 'disableIdUpdate':\r\n            return {\r\n                ...state,\r\n                disableId: action.boolean\r\n                    ? [...state.disableId, action.userId]\r\n                    : state.disableId.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const follow = (userId) => ({ type: 'follow', userId });\r\nexport const unfollow = (userId) => ({ type: 'unfollow', userId });\r\nexport const setUsers = (users) => ({ type: 'setUsers', users });\r\nexport const setPageCount = (pageCount) => ({ type: 'setPageCount', pageCount });\r\nexport const setPageTotal = (pageTotal) => ({ type: 'setPageTotal', pageTotal });\r\nexport const isLoadedTrue = () => ({ type: 'isLoadedTrue' });\r\nexport const isLoadedFalse = () => ({ type: 'isLoadedFalse' });\r\nexport const disableIdUpdate = (boolean, userId) => ({ type: 'disableIdUpdate', boolean, userId });\r\nexport const changeSerchNameData = (data) => ({ type: 'changeSerchNameData', data });\r\n\r\n\r\n// export const getUsersTC = (pageSize, pageTotal) => {\r\n//     return (dispatch) => {\r\n//         dispatch(isLoadedTrue());\r\n//         dispatch(setPageTotal(pageTotal));\r\n//         getUsers(pageSize, pageTotal).then(data => {\r\n//             dispatch(setUsers(data.items));\r\n//             dispatch(isLoadedFalse());\r\n//             dispatch(setPageCount(Math.ceil(data.totalCount / pageSize)))\r\n//         })\r\n//     }\r\n// }\r\nexport const getUsersTC = (action=\"start\",pageSize=100) => {\r\n    return (dispatch) => {\r\n        \r\n        let set=(startPage)=> {\r\n            \r\n            getUsers(pageSize, startPage).then(data => {\r\n                for(let i=0;i<pageSize;i++){\r\n                    if(data.items[i].photos.small!=null){\r\n                        startData.massUsers.push(data.items[i]);\r\n                        \r\n                        if(startData.massUsers.length==5){\r\n                            startData.nextPage=startPage;\r\n                            break;\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                if(startData.massUsers.length==5){\r\n                    if(action==\"back\"){\r\n                        dispatch(setUsers(startData.massUsers.reverse()));\r\n                    }\r\n                    dispatch(setUsers(startData.massUsers));\r\n                }\r\n                else{\r\n                    if(action!=\"back\"){\r\n                        ++startPage;\r\n                    }\r\n                    else{\r\n                        --startPage;  \r\n                    }\r\n                    set(startPage);\r\n                }\r\n\r\n            })\r\n            \r\n        }\r\n        if(action==\"next\"){\r\n            startData.massUsers=[];\r\n            set(startData.nextPage+1,action);\r\n            startData.backPage.push(startData.nextPage);\r\n        }\r\n        else if(action==\"back\"){\r\n            startData.massUsers=[];\r\n            set(startData.backPage[startData.backPage.length-1],action);\r\n            startData.backPage.splice(startData.backPage.length-1);\r\n        }\r\n        else{\r\n            startData.massUsers=[];\r\n            set(startData.page,action);\r\n        }  \r\n    }\r\n}\r\n\r\nexport const serchNameUserTC = (name) => {\r\n    return (dispatch) => {\r\n        let page = 1;\r\n        let serch = (page) => {\r\n            getUsersSerch(100, page).then(response => {\r\n                for(let i =0;i<100;i++){\r\n                   if(response.data.items[i].name == name){\r\n                    startData.serchNameProfile[0]=response.data.items[i];\r\n                        dispatch(setUsers(startData.serchNameProfile));\r\n                        break;\r\n                   }\r\n                }\r\n                if (startData.serchNameProfile[0]==null) {\r\n                    if(page%10!=0)\r\n                    {\r\n                        serch(++page);\r\n                    }\r\n                    else if(page%20==0)\r\n                    {\r\n                        let obj={\r\n                            name:\"Пользователь не найден\",\r\n                            photos:{\r\n                                small:\"1\",\r\n                            }\r\n                        }\r\n                        dispatch(setUsers([obj]))\r\n                    }\r\n                    else{\r\n                        setTimeout(serch,1000,++page);\r\n                    }\r\n                    \r\n                }\r\n            })\r\n        }\r\n        serch(page);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const unfollowTC = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(disableIdUpdate(true, userId));\r\n        unfollowUser(userId).then(data => {\r\n            if (data.resultCode == 0) dispatch(unfollow(userId));\r\n            dispatch(disableIdUpdate(false,userId));\r\n        })\r\n    }\r\n}\r\nexport const followTC = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(disableIdUpdate(true, userId));\r\n        followUser(userId).then(data => {\r\n            if (data.resultCode == 0) dispatch(follow(userId));\r\n            dispatch(disableIdUpdate(false,userId));\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default usersReduser;"],"sourceRoot":""}