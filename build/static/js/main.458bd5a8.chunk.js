(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n(40),c=n(5),a=n(18),s={posts:[{name:"Jon",message:"Hi!",likeCount:3,id:0},{name:"Merry",message:"WTF!",likeCount:12,id:1}],newPostValue:"",profileInfo:{photos:{small:"",large:""}},status:"bag"},i=function(e){return{type:"setStatus",status:e}},o=function(e){return function(t){Object(a.c)(e).then((function(e){t({type:"setProfile",profileInfo:e})}))}},u=function(e){return function(t){Object(a.d)(e).then((function(e){t(i(e))}))}},d=function(e){return function(t){Object(a.i)(e).then((function(n){0===n.resultCode?t(i(e)):t(i("Debil"))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addPost":var n={name:"Meredit",message:t.postText,likeCount:"5"};return Object(c.a)(Object(c.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[n])});case"setProfile":return Object(c.a)(Object(c.a)({},e),{},{profileInfo:t.profileInfo});case"setStatus":return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case"deletePost":return Object(c.a)(Object(c.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}}},129:function(e,t,n){e.exports={header:"Header_header__xj31R"}},130:function(e,t,n){e.exports={nav:"Nav_nav__10QCY"}},131:function(e,t,n){e.exports={grid:"Dialogs_grid__283Nx",p1:"Dialogs_p1__19Tcd"}},18:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return b}));var r=n(126),c=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"07c315dc-c503-4487-834e-08b5a5a30b20"}}),a=function(e,t){return c.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},s=function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},i=function(e){return c.get("profile/status/".concat(e)).then((function(e){return e.data}))},o=function(e){return c.put("profile/status",{status:e}).then((function(e){return e.data}))},u=function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},d=function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},l=function(){return c.get("auth/me").then((function(e){return e.data}))},j=function(e,t,n){return c.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},b=function(){return c.delete("/auth/login").then((function(e){return e.data}))}},240:function(e,t,n){},246:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);n(91);var r=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,295)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},c=n(9),a=n(35),s=n(40),i=n(5),o={frends:[{id:1,name:"Alex"},{id:2,name:"Male"},{id:3,name:"Forck"},{id:4,name:"Nock"},{id:5,name:"Morsi"},{id:6,name:"Gargo"}],messages:[{id:1,message:"hi"},{id:2,message:"fo"}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addSms":var n={id:e.messages.length+1,message:t.text};return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),[n])})}return e},d=n(101),l=n(88),j=n(127),b=n(125),f=Object(c.c)({profilePage:d.a,dialogsPage:u,humansPage:l.a,auth:a.a,form:b.a}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,h=Object(c.e)(f,O(Object(c.a)(j.a)));window.store=h;var g=h,p=n(0),m=n.n(p),x=n(60),v=n.n(x),_=n(31),y=n(32),w=n(34),C=n(33),N=n(13),I=n(10),S=(n(240),n(11)),P=n(61),k=n(1),M=function(e){return function(t){return Object(k.jsx)(p.Suspense,{fallback:Object(k.jsx)(P.a,{}),children:Object(k.jsx)(e,Object(i.a)({},t))})}},T=n(129),D=n.n(T),L=function(e){return Object(k.jsxs)("header",{className:D.a.header+" flex fSpaceBetween",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://w7.pngwing.com/pngs/876/201/png-transparent-logo-graphic-designer-logos-company-logo-wikimedia-commons.png",alt:""})}),Object(k.jsx)("div",{children:e.id?Object(k.jsxs)("div",{children:[e.login,Object(k.jsx)("button",{onClick:e.logout,children:"logOut"})]}):Object(k.jsx)(N.b,{to:"/login",children:"Login"})})]})},F=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){return Object(_.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return Object(k.jsx)(L,Object(i.a)(Object(i.a)({},this.props.data),{},{logout:this.props.logoutTC}))}}]),n}(m.a.Component),A={logoutTC:a.d},E=Object(S.b)((function(e){return{data:e.auth}}),A)(F),U=n(130),B=n.n(U),z=function(){return Object(k.jsxs)("nav",{className:B.a.nav,children:[Object(k.jsx)("div",{children:Object(k.jsx)(N.b,{to:"/Profile",children:"My profile"})}),Object(k.jsx)("div",{children:Object(k.jsx)(N.b,{to:"/Dialogs",children:"Dialogs"})}),Object(k.jsx)("div",{children:Object(k.jsx)(N.b,{to:"/News",children:"News"})}),Object(k.jsx)("div",{children:Object(k.jsx)(N.b,{to:"/Humans",children:"Humans"})}),Object(k.jsx)("div",{children:Object(k.jsx)(N.b,{to:"/login",children:"Login"})})]})},H=n(131),R=n.n(H),J=(n(246),n(84)),Y=n.n(J),G=function(e){return Object(k.jsx)("div",{className:Y.a.blockFrend,children:Object(k.jsx)(N.b,{className:Y.a.a,to:"/dialogs/"+e.id,children:e.name})})},K=function(e){return Object(k.jsx)("div",{className:"",children:e.frends.map((function(e){return Object(k.jsx)(G,{id:e.id,name:e.name})}))})},Q=Object(S.b)((function(e){return{frends:e.dialogsPage.frends}}),(function(e){return{}}))(K),V=function(e){return{login:e.auth.login}},X=n(123),W=n(124),q=n(79),Z=n(90),$=n(50),ee=n.n($),te=Object(q.a)(50),ne=Object(W.a)({form:"DialogMessageForm"})((function(e){return Object(k.jsx)("form",{onSubmit:e.handleSubmit,className:ee.a.textSms,children:Object(k.jsxs)("div",{children:[Object(k.jsx)(X.a,{validate:[q.b,te],className:ee.a.textSms,component:Z.a,name:"message",placeholder:"write your message"}),Object(k.jsx)("button",{className:ee.a.addSms,children:"add sms"})]})})})),re=function(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:ee.a.messagesBlock,children:e.dialogsPage.messages.map((function(e){return Object(k.jsxs)("div",{children:[e.id," ",e.message]})}))}),Object(k.jsx)("div",{className:"flex ",children:Object(k.jsx)(ne,{onSubmit:function(t){var n={type:"addSms",text:t.message};e.addSmsContainer(n)}})})]})},ce=Object(c.d)((function(e){var t=function(t){Object(w.a)(r,t);var n=Object(C.a)(r);function r(){return Object(_.a)(this,r),n.apply(this,arguments)}return Object(y.a)(r,[{key:"render",value:function(){return this.props.login?Object(k.jsx)(e,{}):Object(k.jsx)(I.a,{to:"/login"})}}]),r}(m.a.Component);return Object(S.b)(V)(t)}),Object(S.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{addSmsContainer:function(t){e(t)}}})))(re),ae=function(e){return Object(k.jsxs)("div",{className:"",children:["Dialogs",Object(k.jsxs)("div",{className:R.a.grid,children:[Object(k.jsx)("div",{children:Object(k.jsx)(Q,{})}),Object(k.jsx)("div",{children:Object(k.jsx)(ce,{})})]})]})},se=(n(286),function(){return Object(k.jsx)("div",{children:"News"})}),ie=m.a.lazy((function(){return n.e(5).then(n.bind(null,296))})),oe=m.a.lazy((function(){return n.e(4).then(n.bind(null,299))})),ue=m.a.lazy((function(){return n.e(3).then(n.bind(null,298))})),de=m.a.lazy((function(){return n.e(6).then(n.bind(null,297))})),le=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){return Object(_.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthMeTC()}},{key:"render",value:function(){return null===this.props.login?Object(k.jsx)(P.a,{}):Object(k.jsx)(N.a,{children:Object(k.jsxs)("div",{className:"app-wraper",children:[Object(k.jsx)(E,{}),Object(k.jsx)(z,{}),Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)(I.b,{path:"/Profile/:userId?",render:M(ue)}),Object(k.jsx)(I.b,{path:"/Dialogs",render:function(){return Object(k.jsx)(ae,{})}}),Object(k.jsx)(I.b,{path:"/News",render:function(){return Object(k.jsx)(se,{})}}),Object(k.jsx)(I.b,{path:"/Humans",render:M(oe)}),Object(k.jsx)(I.b,{path:"/Settings",render:M(ie)}),Object(k.jsx)(I.b,{path:"/login",render:M(de)})]})]})})}}]),n}(m.a.Component),je={getAuthMeTC:a.b},be=Object(S.b)((function(e){return{login:e.auth.login}}),je)(le);v.a.render(Object(k.jsx)(m.a.StrictMode,{children:Object(k.jsx)(S.a,{store:g,children:Object(k.jsx)(be,{})})}),document.getElementById("root")),r()},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n(5),c=n(51),a=n(18),s={id:null,login:null,email:null},i=function(e,t,n){return{type:"setAuthData",data:{id:e,login:t,email:n}}},o=function(e){return function(t){Object(a.b)().then((function(n){0===n.resultCode?t(i(n.data.id,n.data.login,n.data.email)):t(i(e,e,e))}))}},u=function(e,t,n){return function(r){Object(a.f)(e,t,n).then((function(e){0===e.resultCode?r(o()):r(Object(c.a)("login",{_error:e.messages}))}))}},d=function(){return function(e){Object(a.g)().then((function(t){0===t.resultCode?e(o(!1)):alert(t.messages)}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setAuthData":return Object(r.a)(Object(r.a)({},e),t.data);default:return e}}},50:function(e,t,n){e.exports={textSms:"Messeges_textSms__260xA",messagesBlock:"Messeges_messagesBlock__FsQgx",addSms:"Messeges_addSms__9Y41p"}},61:function(e,t,n){"use strict";n(0);var r=n(1);t.a=function(e){return Object(r.jsx)("div",{children:"PreLoader mather fucker!!"})}},79:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){if(!e)return"need send text"},c=function(e){return function(t){if(!(t.length<e))return"Max ".concat(e," simbols")}}},84:function(e,t,n){e.exports={a:"Frend_a__1G3_s"}},85:function(e,t,n){e.exports={form:"Input_form__1-KRU",error:"Input_error__1Msxv"}},88:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(40),c=n(5),a=n(18),s={users:[],pageCount:0,pageTotal:1,pageSize:5,isLoaded:!0,isDisable:!1,disableId:[]},i=function(e,t){return{type:"disableIdUpdate",boolean:e,userId:t}},o=function(e,t){return function(n){n({type:"isLoadedTrue"}),n(function(e){return{type:"setPageTotal",pageTotal:e}}(t)),Object(a.e)(e,t).then((function(t){n({type:"setUsers",users:t.items}),n({type:"isLoadedFalse"}),n({type:"setPageCount",pageCount:Math.ceil(t.totalCount/e)})}))}},u=function(e){return function(t){t(i(!0,e)),Object(a.h)(e).then((function(n){0==n.resultCode&&t(function(e){return{type:"unfollow",userId:e}}(e)),t(i(!1,e))}))}},d=function(e){return function(t){t(i(!0,e)),Object(a.a)(e).then((function(n){0==n.resultCode&&t(function(e){return{type:"follow",userId:e}}(e)),t(i(!1,e))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"follow":return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id==t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e}))});case"unfollow":return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e.id==t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case"setUsers":return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case"setPageCount":return Object(c.a)(Object(c.a)({},e),{},{pageCount:t.pageCount});case"isLoadedTrue":return Object(c.a)(Object(c.a)({},e),{},{isLoaded:!0});case"isLoadedFalse":return Object(c.a)(Object(c.a)({},e),{},{isLoaded:!1});case"disableIdUpdate":return Object(c.a)(Object(c.a)({},e),{},{disableId:t.boolean?[].concat(Object(r.a)(e.disableId),[t.userId]):e.disableId.filter((function(e){return e!=t.userId}))});default:return e}}},90:function(e,t,n){"use strict";var r=n(5),c=n(132),a=(n(0),n(85)),s=n.n(a),i=n(1),o=["input","meta","className"];t.a=function(e){var t=e.input,n=e.meta,a=e.className,u=Object(c.a)(e,o),d=n.touched&&n.error;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:s.a.form,children:[Object(i.jsx)("input",Object(r.a)(Object(r.a)({className:d?s.a.error+" "+a:a},t),u)),d&&Object(i.jsx)("span",{children:n.error})]})})}},91:function(e,t,n){}},[[287,1,2]]]);
//# sourceMappingURL=main.458bd5a8.chunk.js.map